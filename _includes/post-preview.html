<style>
/*.post-card {*/
/*  display: grid;*/
/*  grid-template-columns: 250px 1fr;*/
/*  gap: 14px;*/
/*  padding: 14px;*/
/*  border: 1px solid #e5e7eb;*/
/*  border-radius: 10px;*/
/*  background: #fff;*/
/*  margin: 12px auto;*/
/*}*/

.post-card {
  display: block;
  max-width: 700px;  /* adjust width */
  padding: 14px;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  background: #fff;
  margin: 12px 0;
}

.post-card__media img {
  display: block;
  width: 100%;
  height: 100%;
  max-height: 110px;
  object-fit: cover;
  border-radius: 8px;
}

.post-card__body { display: flex; flex-direction: column; gap: 6px; }

.post-card__title { font-size: 1.1rem; margin: 0; }
.post-card__title a { text-decoration: none; color: #0b5295; }
.post-card__title a:hover { text-decoration: underline; }

.post-card__meta { font-size: 0.9rem; color: #6b7280; }

.post-card__excerpt { margin: 0; line-height: 1.55; color: #374151; }

.post-card__footer {
  display: flex; justify-content: space-between; align-items: center; margin-top: 4px;
}

.post-card__tags { display: flex; gap: 6px; flex-wrap: wrap; }
.post-card__tag {
  font-size: 0.8rem; color: #0f172a; background: #eef2ff; border-radius: 999px; padding: 2px 8px;
}

.post-card__more { font-size: 0.9rem; color: #0b5295; text-decoration: none; }
.post-card__more:hover { text-decoration: underline; }

/* Mobile */
@media (max-width: 640px) {
  .post-card { grid-template-columns: 1fr; }
  .post-card__media img { max-height: 160px; }
}
</style>

{% include base_path %}

{% case site.tag_archive.type %}
  {% when "liquid" %}
    {% assign path_type = "#" %}
  {% when "jekyll-archives" %}
    {% assign path_type = nil %}
{% endcase %}

<article class="post-card">
<!--  {%- assign cover = post.image | default: post.header.image -%}-->
<!--  {%- if cover %}-->
<!--    <a class="post-card__media" href="{{ post.url | relative_url }}">-->
<!--      <img src="{{ cover | relative_url }}" alt="{{ post.title | escape }}">-->
<!--    </a>-->
<!--  {%- endif %}-->

  <div class="post-card__body">
    <h3 class="post-card__title">
      <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
    </h3>

    <div class="post-card__meta">
      <time datetime="{{ post.date | date_to_xmlschema }}">
        {{ post.date | date: "%b %-d, %Y" }}
      </time>
      {%- if post.author and post.author != "" -%}
        &nbsp;•&nbsp;<span class="post-card__author">{{ post.author }}</span>
      {%- endif -%}
    </div>

    <p class="post-card__excerpt">
      {%- if post.excerpt and post.excerpt != "" -%}
        {{ post.excerpt | strip_html | strip_newlines }}
      {%- else -%}
        {{ post.content | strip_html | truncatewords: 36 }}
      {%- endif -%}
    </p>

<!--    <div class="post-card__footer">-->
<!--      {%- if post.tags and post.tags.size > 0 -%}-->
<!--        <div class="post-card__tags">-->
<!--          {%- for tag in post.tags -%}-->
<!--            <span class="post-card__tag">#{{ tag }}</span>-->
<!--          {%- endfor -%}-->
<!--        </div>-->
<!--      {%- endif -%}-->

<!--      <a class="post-card__more" href="{{ post.url | relative_url }}">Read more →</a>-->
<!--    </div>-->
      <div class="post-card__footer">
      {%- if post.tags and post.tags.size > 0 -%}
<!--        <div class="post-card__tags">-->
<!--          {%- for tag in post.tags -%}-->
<!--            <a class="post-card__tag"-->
<!--               href="{{ '/tags/' | append: tag | slugify | append: '/' | relative_url }}">-->
<!--              #{{ tag }}-->
<!--            </a>-->
<!--          {%- endfor -%}-->
<!--        </div>-->
<!--      {%- endif -%}-->
          {%- if post.tags and post.tags.size > 0 -%}
              {%- comment -%}
                Build a sorted list like the theme does: "lower#Original"
              {%- endcomment -%}
              {%- assign page_tags = "" -%}
              {%- for tag in post.tags -%}
                {%- capture page_tags -%}{{ page_tags }}{{ tag | downcase }}#{{ tag }}{%- unless forloop.last -%},{%- endunless -%}{%- endcapture -%}
              {%- endfor -%}
              {%- assign tag_hashes = page_tags | split: ',' | sort:0 -%}

              <div class="post-card__tags">
                {%- for hash in tag_hashes -%}
                  {%- assign keyValue = hash | split: '#' -%}
                  {%- capture tag_word -%}{{ keyValue[1] | strip_newlines }}{%- endcapture -%}
                  <a class="post-card__tag"
                     href="{{ base_path }}{{ tag_word | slugify | prepend: path_type | prepend: site.tag_archive.path }}">
                    #{{ tag_word }}
                  </a>
                {%- endfor -%}
              </div>
            {%- endif -%}

      <a class="post-card__more" href="{{ post.url | relative_url }}">Read more →</a>
    </div>
  </div>
</article>